import t from"axios";import e from"pako";import n from"localforage";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function u(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}var h={consume:{before:function(){},after:function(){}},track:{before:function(){},after:function(){}}};function p(t,e,n){return{value:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return h[e]&&h[e].before.apply(this,t),n.value.apply(this,t)}}}function l(t,e,n){return{value:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return s(this,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:return[4,n.value.apply(this,t)];case 1:return r=o.sent(),h[e]&&h[e].after.apply(this,[r]),[2,r]}}))}))}}}function f(t,e,n,r){window._replace_center_||(window._replace_center_={});var o=r?window._replace_center_[r]?window._replace_center_[r]:window._replace_center_[r]={}:window._replace_center_;o[e]||(o[e]=t[e],t[e]=n)}function d(t,e,n){window._replace_center_||(window._replace_center_={});var r=n?window._replace_center_[n]?window._replace_center_[n]:window._replace_center_[n]={}:window._replace_center_;window._replace_center_[e]&&(t[e]=r[e],delete r[e])}function v(){return i({},function(){var t=y("uni");if(!t){t=w(10);var e=new Date;e.setDate(e.getDate()+864e5),document.cookie="uni="+t+";domain="+document.domain+";path=/;expires="+e.toGMTString()}return{uni:t}}(),g(),{page:window.location.href,uId:y("uId")||"",rId:y("rId")||"",msg:"",ms:"unkown",ml:"info",dId:y("deviceId")||"",dt:y("deviceType")||"",sys:y("sys")||"",sv:y("sysVersion")||"",sw:m().w,sh:m().h,v:"1.0.23"})}function m(){return{w:document.documentElement.clientWidth||document.body.clientWidth,h:document.documentElement.clientHeight||document.body.clientHeight}}function w(t){t=t||10;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789",n=e.length,r="",o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*n));return r+"_"+(new Date).getTime()}function y(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?e[2]:null}function g(){var t=navigator.connection;if(!t)return{ct:navigator.onLine?"online":"offline"};var e=t.rtt,n=t.downlink;return{ct:t.effectiveType,cs:n+"Mb/s",cr:e+"ms",csa:t.saveData}}function k(t,e,n){window.addEventListener&&window.addEventListener(t,(function r(o){n&&window.removeEventListener(t,r,!0),e.call(this,o)}),!0),window.attachEvent&&window.attachEvent("on"+t,(function r(o){n&&window.detachEvent("on"+t,r),e.call(this,o)}))}function b(t,e){window.removeEventListener&&window.removeEventListener(t,e),window.detachEvent&&window.detachEvent(t,e)}function E(t,e){var n;CustomEvent?n=new CustomEvent(t,{detail:e}):((n=window.document.createEvent("HTMLEvents")).initEvent(t,!1,!0),n.detail=e),window.dispatchEvent(n)}function _(t){return(t?S(t.replace(/^#\/?/,"")):"")||"[index]"}function S(t){return t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,"")}function H(t,e){t.track(i({},v(),{dot:document.title,dol:location.href,dr:document.referrer,dpr:window.devicePixelRatio,de:document.charset,page:e||window.location.href,ms:"pv",ml:"info"}))}var T=function(){function t(t){this.store=t}return t.prototype.mountStore=function(t){this.store=t},t.prototype.track=function(t){return s(this,void 0,void 0,(function(){return c(this,(function(e){return t=i({},t,g()),this.store&&this.store.push(t),[2,this]}))}))},a([p,l],t.prototype,"track",null),t}(),C=function(){function t(t){this.nums=[],this.reserved=t}return t.prototype.get=function(){var t=this,e=Date.now();return this.nums=this.nums.filter((function(n){return n>e-1e3*t.reserved})),this.nums.length},t.prototype.increase=function(){var t=this,e=Date.now();this.nums=this.nums.filter((function(n){return n>e-1e3*t.reserved})),this.nums.push(Date.now())},t.prototype.decrease=function(){this.nums.shift()},t.prototype.reset=function(){this.nums=[]},t}(),M=function(){function t(t){void 0===t&&(t=Date.now()),this.startTime=t}return t.prototype.canPass=function(t){return!0},t.prototype.checkout=function(t){},t}(),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.canPass=function(t){var e=parseInt(t.thresholdForHalfOpen[0]);return t.getCount()<=e},e.prototype.checkout=function(t){t.getCount()>parseInt(t.thresholdForHalfOpen[0])?t.setState(new L):t.setState(new I)},e}(M),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.canPass=function(){return!1},e.prototype.checkout=function(t){var e=1e3*t.idleTimeForOpen;Date.now()>=this.startTime+e&&t.setState(new x)},e}(M),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.canPass=function(t){return!0},e.prototype.checkout=function(t){t.getCount()>=parseInt(t.thresholdForOpen[0])&&t.setState(new L)},e}(M),O=function(){function t(t,e,n){void 0===t&&(t="1/60"),void 0===e&&(e=300),void 0===n&&(n="1/60"),this.idleTimeForOpen=e,this.thresholdForOpen=t.split("/"),this.thresholdForHalfOpen=n.split("/"),this.counter=new C(Math.max(parseInt(this.thresholdForOpen[1]),parseInt(this.thresholdForHalfOpen[1]))),this.state=new I}return t.prototype.getStateName=function(){return/^function\s(.*)\(/.exec(this.state.constructor+""),RegExp.$1},t.prototype.getState=function(){return this.state},t.prototype.setState=function(t){this.state=t},t.prototype.reset=function(){this.counter.reset()},t.prototype.canPass=function(){return this.getState().checkout(this),this.getState().canPass(this)},t.prototype.count=function(){this.counter.increase()},t.prototype.getCount=function(){return this.counter.get()},t.prototype.getDuration=function(){return(Date.now()-this.state.startTime)/1e3},t}(),D=function(){function n(e,n,r,o){if(void 0===r&&(r="image"),void 0===o&&(o=t),this.abnormalBreaker=new O("5/60",300,"0/60"),"xhr"===r&&!XMLHttpRequest)throw ReferenceError("EmitType is XHR,but XMLHttpRequest is undefined");if("fetch"===r&&!o)throw ReferenceError("EmitType is FETCH,but fetch object is undefined");this.api=e,this.store=n,this.emitType=r,this.fetch=o}return n.prototype.mountStore=function(t){this.store=t},n.prototype.setAbnormalBreaker=function(t){this.abnormalBreaker=t},n.prototype.start=function(t,e){var n=this;void 0===t&&(t=15e3),this.timer&&clearInterval(this.timer),this.timer=window.setInterval((function(){return s(n,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this.abnormalBreaker.canPass()?[4,this.store.shiftMore(e&&e.size)]:[2];case 1:return(t=n.sent())&&this.consume(t,e&&e.zip),[2]}}))}))}),t)},n.prototype.stop=function(){clearInterval(this.timer),this.timer=void 0},n.prototype.consume=function(t,n){return void 0===n&&(n=!1),s(this,void 0,void 0,(function(){return c(this,(function(r){switch(r.label){case 0:t=encodeURIComponent(t),n&&t.length>1e3&&(t=e.gzip(t,{to:"string"})),r.label=1;case 1:switch(r.trys.push([1,11,,12]),this.emitType){case"image":return[3,2];case"xhr":return[3,4];case"fetch":return[3,6];case"beacon":return[3,8]}return[3,10];case 2:return[4,this.imageConsume(t)];case 3:return r.sent(),[3,10];case 4:return[4,this.xhrConsume(t)];case 5:return r.sent(),[3,10];case 6:return[4,this.fetchConsume(t)];case 7:return r.sent(),[3,10];case 8:return[4,this.beaconConsume(t)];case 9:return r.sent(),[3,10];case 10:return[3,12];case 11:return r.sent(),this.abnormalBreaker.count(),[3,12];case 12:return[2]}}))}))},n.prototype.imageConsume=function(t){var e=this,n=new Image;return new Promise((function(r,o){n.onerror=function(t){o(t)},n.onload=function(t){r(t)},n.onabort=function(t){o(t)},n.src=e.api+"?data="+t}))},n.prototype.xhrConsume=function(t){var e=new XMLHttpRequest;return e.open("POST",this.api,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),new Promise((function(n,r){e.onload=function(t){n(t)},e.onabort=function(t){n(t)},e.onerror=function(t){r(t)},e.onreadystatechange=function(){4===e.readyState&&200===e.status||r(e.readyState)},e.send(JSON.stringify({data:t}))}))},n.prototype.fetchConsume=function(t){return!!this.fetch&&this.fetch.post(this.api,{data:t})},n.prototype.beaconConsume=function(t){var e=this;return!(!window||!window.navigator||"function"!=typeof window.navigator.sendBeacon)&&new Promise((function(n,r){window.navigator.sendBeacon(e.api,JSON.stringify({data:t}))?n():r()}))},a([p,l],n.prototype,"consume",null),n}(),P=function(){function t(t){this.appName=t,this.store=n.createInstance({name:t,storeName:t})}return t.prototype.destory=function(){this.store.dropInstance({name:this.appName,storeName:this.appName})},t.prototype.shiftMore=function(t){return void 0===t&&(t=0),s(this,void 0,void 0,(function(){var e,n,r,o;return c(this,(function(i){switch(i.label){case 0:return e=[],[4,this.length()];case 1:n=i.sent(),n=t>n?n:t,i.label=2;case 2:return--n>-1?(o=(r=e).push,[4,this._shift()]):[3,4];case 3:return o.apply(r,[i.sent()]),[3,2];case 4:return 0===e.length?[2,""]:[2,e=JSON.stringify(e)]}}))}))},t.prototype._shift=function(){return s(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return t="",[4,this.keys()];case 1:return e=n.sent().shift()||"",[4,this.store.getItem(e)];case 2:return t=n.sent(),[4,this.store.removeItem(e)];case 3:return n.sent(),[2,t]}}))}))},t.prototype.push=function(t){return s(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=this.appName+"_"+(new Date).getTime(),[4,this.store.setItem(e,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.length=function(){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.store.length()];case 1:return[2,t.sent()]}}))}))},t.prototype.clear=function(){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.store.clear()];case 1:return[2,t.sent()]}}))}))},t.prototype.keys=function(){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.store.keys()];case 1:return[2,t.sent()]}}))}))},t.prototype.iterate=function(t){return s(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.store.iterate(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.customDriver=function(t){return s(this,void 0,void 0,(function(){return c(this,(function(e){return this.store.defineDriver(t),[2]}))}))},t}(),R=function(t){this.provider=t},F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handlers=new Map,e.timers=new Map,e.delta=3,e.deltaMax=15,e}return o(e,t),e.prototype.clearCallFlag=function(t){this.handlers.delete(t),this.timers.delete(t)},e.prototype.handleCall=function(t,e,n,r){if(r){var o=w(15);this.handlers.set(o,Date.now()),this.timers.set(o,setTimeout((function(){s.provider.track(i({},v(),g(),{msg:t+"."+e+" args "+JSON.stringify(n)+", callback take over 15s",ms:"native",ml:"warning"})),s.clearCallFlag(o)}),1e3*this.deltaMax));var a=r,s=this;r=function(){var r=Date.now()-(s.handlers.get(o)||Date.now());r>1e3*s.delta&&s.provider.track(i({},v(),g(),{msg:t+"."+e+" args "+JSON.stringify(n)+", callback take "+r+"ms",ms:"native",ml:"info"}));var c=s.timers.get(o);c&&clearTimeout(c),s.clearCallFlag(o),a.apply(s,arguments)}}window._replace_center_.native.call.apply(this.nativeBridge,[t,e,n,r])},e.prototype.watch=function(t){if(this.nativeBridge=t||this.nativeBridge,!this.nativeBridge)throw Error("NativeHook can not start watch, has not initlized");f(this.nativeBridge,"call",this.handleCall.bind(this),"native")},e.prototype.unwatch=function(){d(this.nativeBridge,"call","native")},e}(R),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.listener=function(t){if(t.stopPropagation(),t.preventDefault(),t.target instanceof HTMLImageElement||t.target instanceof HTMLScriptElement||t.target instanceof HTMLLinkElement){var e=t.target instanceof HTMLImageElement||t.target instanceof HTMLScriptElement?t.target.src:t.target instanceof HTMLLinkElement?t.target.href:"";this.provider.track(i({},v(),{msg:t.target.outerHTML,file:e,stack:t.target.localName.toUpperCase(),line:0,col:0,ms:"error",ml:"error"}))}else{var n="";if(t.error&&t.error.stack)n=t.error.stack.toString();else if(arguments){for(var r=[],o=arguments.callee.caller,a=3;o&&--a>0&&(r.push(o.toString()),o!==o.caller);)o=o.caller;n=r.join(",")}this.provider.track(i({},v(),{file:t.filename,line:t.lineno,col:t.colno,stack:n,msg:t.message,ms:"error",ml:"error"}))}},e.prototype.watch=function(t){k("error",this.listener.bind(this))},e.prototype.unwatch=function(){b("error",this.listener.bind(this))},e}(R),B=["click","input","blur"],j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getCurrentElement=function(t){var e=t.outerHTML.match("<.+?>");return e&&e[0]||""},e.prototype.listener=function(t){t instanceof MouseEvent?this.provider.track(i({},v(),{msg:t.target instanceof HTMLElement?this.getCurrentElement(t.target):"",ms:"action",ml:"info",at:t.type,el:t.target instanceof HTMLElement?this.getCurrentElement(t.target):void 0,x:t.x,y:t.y})):t instanceof FocusEvent?this.provider.track(i({},v(),{msg:t.target instanceof HTMLElement?this.getCurrentElement(t.target):"",ms:"action",ml:"info",at:t.type,el:t.target instanceof HTMLElement?this.getCurrentElement(t.target):void 0})):t instanceof KeyboardEvent?this.provider.track(i({},v(),{msg:t.type+" "+t.key,ms:"action",ml:"info",at:t.type,key:t.key})):t instanceof InputEvent&&this.provider.track(i({},v(),{msg:t.inputType+" "+t.data,ms:"action",ml:"info",at:t.type,key:t.data||""}))},e.prototype.watch=function(t){var e,n;try{for(var r=u(B),o=r.next();!o.done;o=r.next()){k(o.value,this.listener.bind(this))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.unwatch=function(){var t,e;try{for(var n=u(B),r=n.next();!r.done;r=n.next()){b(r.value,this.listener.bind(this))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e}(R),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.listener=function(t){t.stopPropagation(),t.preventDefault(),this.provider.track(i({},v(),{msg:t.reason,ms:"uncaught",ml:"error"}))},e.prototype.watch=function(t){k("unhandledrejection",this.listener.bind(this))},e.prototype.unwatch=function(){b("unhandledrejection",this.listener.bind(this))},e}(R),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.hackState=function(t){f(history,t,(function(e,n,r){f(window,"onpopstate",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return window._replace_center_.onpopstate.apply(this,e)}));var o=location.href,i=window._replace_center_[t].apply(history,[e,n,r]);if(!r||r===o)return i;try{var a=o.split("#"),s=r.split("#"),c=S(a[0]),u=S(s[0]),h=a[1]&&a[1].replace(/^\/?(.*)/,"$1"),p=s[1]&&s[1].replace(/^\/?(.*)/,"$1");c!==u?E("historystatechanged",u):h!==p&&E("historystatechanged",p)}catch(t){}return i}))},e.prototype.dehackState=function(t){d(history,t),d(window,"onpopstate")},e.prototype.handleHashchange=function(t){var e=_(location.hash.toLowerCase());H(this.provider,e)},e.prototype.handleHistorystatechange=function(t){var e=_(t.detail.toLowerCase());H(this.provider,e)},e.prototype.watch=function(t){this.hackState("pushState"),this.hackState("replaceState"),k("hashchange",this.handleHashchange.bind(this)),k("historystatechanged",this.handleHistorystatechange.bind(this))},e.prototype.unwatch=function(){this.dehackState("pushState"),this.dehackState("replaceState"),b("hashchange",this.handleHashchange.bind(this)),b("historystatechanged",this.handleHistorystatechange.bind(this))},e}(R),z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.listener=function(t){var e=this;setTimeout((function(){e.provider.track(i({},v(),function(){if(!window.performance)return{};var t=performance.timing;return{dnst:t.domainLookupEnd-t.domainLookupStart||0,tcpt:t.connectEnd-t.connectStart||0,wit:t.responseStart-t.navigationStart||0,domt:t.domContentLoadedEventEnd-t.navigationStart||0,lodt:t.loadEventEnd-t.navigationStart||0,radt:t.fetchStart-t.navigationStart||0,rdit:t.redirectEnd-t.redirectStart||0,uodt:t.unloadEventEnd-t.unloadEventStart||0,reqt:t.responseEnd-t.requestStart||0,andt:t.domComplete-t.domInteractive||0}}(),{ms:"performance",ml:"info"}))}),20)},e.prototype.watch=function(t){k("load",this.listener.bind(this))},e.prototype.unwatch=function(){b("load",this.listener.bind(this))},e}(R),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.watch=function(t){var e=this;if(this.vue=t||this.vue,!this.vue)throw Error("VueHook can not start watch, has not initlized");this.vue.config.errorHandler=function(t,n,r){var o="";if(n){var a=n;for(o=n.$options.name;a=a.$parent;)o=n.$options.name+"=>"+o}e.provider&&e.provider.track(i({},v(),{msg:t.name+" "+t.message,file:o+" "+r,stack:t.stack,ms:"vue",ml:"error"}))}},e.prototype.unwatch=function(){delete this.vue.config.errorHandler},e}(R),A=function(){function t(t){this.hooks=new Map,this.hooks.set("native",new F(t)),this.hooks.set("error",new N(t)),this.hooks.set("action",new j(t)),this.hooks.set("uncaught",new $(t)),this.hooks.set("spa",new q(t)),this.hooks.set("performance",new z(t)),this.hooks.set("vue",new J(t))}return t.prototype.getHooks=function(){return this.hooks},t}(),X=function(){function t(t){this.store=new P(t),this.provider=new T(this.store),this.hooks=new A(this.provider),H(this.provider)}return t.prototype.subscribe=function(t,e,n){if(!this.store)throw new ReferenceError("The init method has not be invoked, please invoke it before this");return this.consumer=new D(t,this.store,e,n),this.consumer},t.prototype.getStore=function(){return this.store},t.prototype.getProvider=function(){return this.provider},t.prototype.getConsumer=function(){return this.consumer},t.prototype.watch=function(t,e){var n=this.hooks.getHooks().get(t);n&&n.watch(e)},t.prototype.unwatch=function(t){var e=this.hooks.getHooks().get(t);e&&e.unwatch()},t}();export{O as CircuitBreaker,X as MonitorCenter,h as lifeCycle};
