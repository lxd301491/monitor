<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="../dist/monitor.js" ></script>
  </head>
  <body>
    <!-- <img src="http://www.baidu.com/1.gif"> -->
    <div id="div1">
      <input id="input1" type="text" jr-event="touchstart;input" jr-msg="點擊了輸入框;輸入內容" jr-area="首頁輸入框;首頁輸入框" />
    </div>
  </body>
  <script>
    var center = new Monitor.MonitorCenter("test");
    center.subscribe("https://localhost:8080/pako/gzip", true, "beacon");
    center.start(3000);
    center.hooks.watch("error");
    center.hooks.watch("uncaught");
    center.hooks.watch("performance");
    center.hooks.watch("spa");
    
    //center.hooks.unwatch("error");
    
    Monitor.lifeCycle.actionHandler.before = function (args, event) {
      console.log(args);
    }
    // setInterval(function () {
    //   Promise.reject("123");
    // }, 1000);
    // setInterval(function () {
    //   throw new Error("321")
    // }, 1000);
    setInterval(function () {
      history.pushState({}, "123", `file:///Users/pingan/Desktop/workspacegit/others/monitor/example/index.html#${new Date().getTime()}`)
    }, 1000);
    

  </script>
</html>
